<div ng-controller="DiscussionsCtrl" ng-cloak>
  <md-content class="md-padding" ng-controller="DashboardCtrl" data-ng-init="getUser()">
    <md-card>
      <md-card-content>
        <h3><b>Discussions</b></h3>
        <div ng-init="singleDiscussion()" flex>
          <div>
            <img src="">
            <h3>Title: {{discussion.title}}</h3>
            <h4><b>Caption: </b>{{discussion.caption}}</h4>
            <p><b>Content: </b>{{discussion.blogContent}}</p>
            <p><b>By: </b>{{discussion.user.username}}</p>
          </div>
          <ul class="discussion-icon">
            <ul ng-repeat="comment in discussion.discussionComments">
              <li>
                <p>{{comment.commentContent}}</p>
                <span>By: {{comment.creator.username}}</span>
              </li>
            </ul>
            <li class="pull-left insights-icon-li"><span class=" icon-like"><i class="fa fa-heart"></i>&nbsp;{{discussion.discussionLikes.length}}&nbsp;<md-button ng-click="likeBlog(discussion)">Likes</md-button></span> </li>
          </ul>
          <br>
          <br>
          <div class="col-md-12">
            <form class="form-horizontal" data-ng-submit="createComment(discussion, user)" novalidate>
              <fieldset>
                <div class="form-group">
                  <div data-ng-show="error" class="text-danger">
                    <strong data-ng-bind="error" style="color:#F00;"></strong>
                  </div>
                  <label class="control-label" for="Content">COMMENTS</label>
                  <div class="controls">
                    <textarea type="text" data-ng-model="commentContent" id="content" class="form-control" required></textarea>
                  </div>
                </div>
                <div class="form-group">
                  <input type="submit" class="btn-default blog-button">
                </div>
              </fieldset>
            </form>
          </div>
        </div>
      </md-card-content>
    </md-card>
  </md-content>
</div>
